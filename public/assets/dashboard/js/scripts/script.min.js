"use strict";

$(document).ready(function () {
  "use strict";

  var $searchInput = $(".search-bar input");
  var $searchCloseBtn = $(".search-close"); // Reusable utilities

  window.gullUtils = {
    isMobile: function isMobile() {
      return window && window.matchMedia("(max-width: 767px)").matches;
    },
    changeCssLink: function changeCssLink(storageKey, fileUrl) {
      localStorage.setItem(storageKey, fileUrl);
      location.reload();
    }
  }; // Search toggle

  var $searchUI = $(".search-ui");
  $searchInput.on("focus", function () {
    $searchUI.addClass("open");
  });
  $searchCloseBtn.on("click", function () {
    $searchUI.removeClass("open");
  }); // Secondary sidebar dropdown menu

  var $dropdown = $(".dropdown-sidemenu");
  var $subMenu = $(".submenu");
  $dropdown.find("> a").on("click", function (e) {
    e.preventDefault();
    e.stopPropagation();
    var $parent = $(this).parent(".dropdown-sidemenu");
    $dropdown.not($parent).removeClass("open");
    $(this).parent(".dropdown-sidemenu").toggleClass("open");
  }); // Perfect scrollbar

  $(".perfect-scrollbar, [data-perfect-scrollbar]").each(function (index) {
    var $el = $(this);
    var ps = new PerfectScrollbar(this, {
      suppressScrollX: $el.data("suppress-scroll-x"),
      suppressScrollY: $el.data("suppress-scroll-y")
    });
  }); // Full screen

  function cancelFullScreen(el) {
    var requestMethod = el.cancelFullScreen || el.webkitCancelFullScreen || el.mozCancelFullScreen || el.exitFullscreen;

    if (requestMethod) {
      // cancel full screen.
      requestMethod.call(el);
    } else if (typeof window.ActiveXObject !== "undefined") {
      // Older IE.
      var wscript = new ActiveXObject("WScript.Shell");

      if (wscript !== null) {
        wscript.SendKeys("{F11}");
      }
    }
  }

  function requestFullScreen(el) {
    // Supports most browsers and their versions.
    var requestMethod = el.requestFullScreen || el.webkitRequestFullScreen || el.mozRequestFullScreen || el.msRequestFullscreen;

    if (requestMethod) {
      // Native full screen.
      requestMethod.call(el);
    } else if (typeof window.ActiveXObject !== "undefined") {
      // Older IE.
      var wscript = new ActiveXObject("WScript.Shell");

      if (wscript !== null) {
        wscript.SendKeys("{F11}");
      }
    }

    return false;
  }

  function toggleFullscreen() {
    var elem = document.body;
    var isInFullScreen = document.fullScreenElement && document.fullScreenElement !== null || document.mozFullScreen || document.webkitIsFullScreen;

    if (isInFullScreen) {
      cancelFullScreen(document);
    } else {
      requestFullScreen(elem);
    }

    return false;
  }

  $("[data-fullscreen]").on("click", toggleFullscreen);


  // Airon
      /*  Testimonial-Slider-Owl-carousel  */
    if ($.fn.owlCarousel) {
        $('.request-slide').owlCarousel({
            // loop:true,
            // margin:30,
            // dots:true,
            // stagePadding: -530,
            // nav:false,
            // rtl:false,
            // autoplayHoverPause:false,
            // autoplay: true,
            // singleItem: true,
            // autoWidth: true,
            // itemElement: "section",
            // responsiveBaseElement: '#random-request-slide',
            // responsiveClass:true,
            // smartSpeed: 1200,
            // itemsDesktop : [1199,10],
            // responsive: {
            //     0: {
            //         items: 1,
            //         // center: false
            //         center: true
            //     },
            //     480:{
            //         items:1,
            //         // center: false
            //         center: true
            //     },
            //     600: {
            //         items: 1,
            //         // center: false
            //         center: true
            //     },
            //     768: {
            //         items: 1,
            //         center: true
            //     },
            //     992: {
            //         items: 1,
            //         center: true
            //     },
            //     1200: {
            //         items: 1,
            //         center: true
            //     },
            //     1280: {
            //         items: 1,
            //         center: true
            //     }
            // }

            items: 1,
            loop: true,
            autoplay: true,
            smartSpeed: 700,
            dots: true
        })
    }

    var dot = $('.request-slide .owl-dot');
      dot.each(function () {
          var index = $(this).index() + 1;
          if (index < 10) {
              $(this).html('0').append(index);
          } else {
              $(this).html(index);
          }
      });

    // $('.request-slide').slick({
    //   // infinite: true,
    //   slidesToShow: 1,
    //   slidesToScroll: 1,
    //   autoplay: true,
    // });

}); // PreLoader
// $(window).load(function() {
//     $('#preloader').fadeOut('slow', function() {
//         $(this).remove();
//     });
// });
// makes sure the whole site is loaded

$(window).on("load", function () {
  // will first fade out the loading animation
  jQuery("#loader").fadeOut(); // will fade out the whole DIV that covers the website.

  jQuery("#preloader").delay(500).fadeOut("slow");
});


